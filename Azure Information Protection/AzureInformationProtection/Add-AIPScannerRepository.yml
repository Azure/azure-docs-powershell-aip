### YamlMime:PowershellCmdlet
summary: |-
  **Relevant for:** AIP unified labeling client. Deprecated for the classic client.

  Adds a repository to an Azure Information Protection content scan job.
module: AzureInformationProtection
notes: ""
inputs:
- name: <xref href="None" data-throw-if-not-resolved="False" />
  description: ""
outputs:
- name: <xref href="System.Object" data-throw-if-not-resolved="False" />
  description: ""
links:
- text: Get-AIPScannerContentScanJob
  href: Get-AIPScannerContentScanJob.yml
- text: Get-AIPScannerRepository
  href: Get-AIPScannerRepository.yml
- text: Remove-AIPScannerContentScanJob
  href: Remove-AIPScannerContentScanJob.yml
- text: Remove-AIPScannerRepository
  href: Remove-AIPScannerRepository.yml
- text: Set-AIPScannerContentScanJob
  href: Set-AIPScannerContentScanJob.yml
- text: Set-AIPScannerRepository
  href: Set-AIPScannerRepository.yml
syntaxes:
- >-
  PowerShell

  Add-AIPScannerRepository -Path <String> [-OverrideContentScanJob <OnOffEnum>] [-EnableDlp <OnOffEnum>]

   [-Enforce <OnOffEnum>] [-LabelFilesByContent <OnOffEnum>] [-RelabelFiles <OnOffEnum>]

   [-AllowLabelDowngrade <OnOffEnum>] [-EnforceDefaultLabel <OnOffEnum>] [-DefaultLabelType <DefaultLabelType>]

   [-DefaultLabelId <Guid>] [-DefaultOwner <String>] [-RepositoryOwner <String>]

   [-PreserveFileDetails <OnOffEnum>] [-IncludeFileTypes <String>] [-ExcludeFileTypes <String>] [-WhatIf]

   [-Confirm] [<CommonParameters>]
examples:
- title: Example 1 Add a new repository using the configured content scan jobs settings
  code: |-
    PS C:\WINDOWS\system32> Add-AIPScannerRepository -Path 'c:\repoToScan'
  description: |-
    This example adds the **repoToScan** repository to your content scan job, using the content scan job's current settings.
  summary: ""
- title: Example 2 Add a new repository, overriding the content scan job's current settings
  code: |-
    PS C:\WINDOWS\system32> Add-AIPScannerRepository -Path 'c:\repoToScan' -OverrideContentScanJob On -Enforce On -DefaultOwner 'ms@gmail.com'
  description: |-
    This example adds the **repoToScan** repository to your content scan job, overriding the currently configured content scan job settings.
  summary: ""
- title: Example 3 Add a new repository, excluding .msg and .tmp files
  code: |-
    PS C:\WINDOWS\system32> Add-AIPScannerRepository -Path 'c:\repoToScan' -OverrideContentScanJob On -IncludeFileTypes '' -ExcludeFileTypes '.msg,.tmp'
  description: |-
    This example defines a content scan job that includes all file types except for .msg and .tmp files.
  summary: ""
parameters:
- type: <xref href="OnOffEnum" data-throw-if-not-resolved="False" />
  name: AllowLabelDowngrade
  description: |+
    Determines whether the content scan job allows for labeling downgrade actions.

    Relevant only when the following parameters are set to **on:**

    - **OverrideContentScanJob**
    - **RelabelFiles**

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: On, Off
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: Confirm
  description: |+
    Prompts you for confirmation before running the cmdlet.

  defaultValue: None
  position: Named
  aliases: cf
  parameterValueGroup: ""
- type: <xref href="Guid" data-throw-if-not-resolved="False" />
  name: DefaultLabelId
  description: |+
    Defines the ID of the default label used when automatically labeling content with a default label.

    - Mandatory if the **DefaultLabelType** parameter is set to **custom**.

    - Relevant only when the **OverrideContentScanJob** parameter is set to **on**.


  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="DefaultLabelType" data-throw-if-not-resolved="False" />
  name: DefaultLabelType
  description: |+
    Determines the type of default label used when automatically labeling content with a default label.

    When used, define the label ID you want to use as the default ID using the **DefaultLabelId** parameter.

    Relevant only when the **OverrideContentScanJob** parameter is set to **on**.


  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: None, PolicyDefault, Custom
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: DefaultOwner
  description: |+
    Defines the default owner value used for the files scanned, using the account email address. By default, this is the scanner account.

    Relevant only when the **OverrideContentScanJob** parameter is set to **on**.


  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="OnOffEnum" data-throw-if-not-resolved="False" />
  name: EnableDlp
  description: |+
    Determines whether the content scan job uses the Microsoft 365 built-in data loss prevention (DLP) sensitivity information types when scanning your content.

    > [!TIP]
    > If you configure this parameter, you may also want to configure a specific repository owner using the **RepositoryOwner** parameter.
    > 

    Relevant only when the **OverrideContentScanJob** parameter is set to **on**.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: On, Off
- type: <xref href="OnOffEnum" data-throw-if-not-resolved="False" />
  name: Enforce
  description: |+
    Determines whether the content scan job enforces content scanning and labeling according to your policy.

    Relevant only when the **OverrideContentScanJob** parameter is set to **on**.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: On, Off
- type: <xref href="OnOffEnum" data-throw-if-not-resolved="False" />
  name: EnforceDefaultLabel
  description: |+
    Determines whether using a default label is always used when relabeling content.

    Relevant only when the following parameters are set to **on:**

    - **RelabelFiles**
    - **OverrideContentScanJob** 

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: On, Off
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: ExcludeFileTypes
  description: |+
    Determines any file types that are ignored during your content scan job. Define multiple file types using a comma-separated list.

    If you define this parameter, define the **IncludeFileTypes** parameter as null. For example, see **Example 3** above.

    Relevant only when the **OverrideContentScanJob** parameter is set to **on**.


  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: IncludeFileTypes
  description: |+
    Explicitly determines the file types that are scanned by your content scan job. Define multiple file types using a comma-separated list.

    If you define this parameter, define the **ExcludeFileTypes** parameter as null. For example, see **Example 3** above.

    Relevant only when the **OverrideContentScanJob** parameter is set to **on**.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="OnOffEnum" data-throw-if-not-resolved="False" />
  name: LabelFilesByContent
  description: |+
    Determines whether the **Label files based on content** content scan job option is enabled or disabled. 

    Relevant only when the **OverrideContentScanJob** parameter is set to **on**.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: On, Off
- type: <xref href="OnOffEnum" data-throw-if-not-resolved="False" />
  name: OverrideContentScanJob
  description: |+
    Determines whether the settings for this repository override the settings defined for the content scan job.

    If set to **On**, define any settings you want to override using additional parameters.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: On, Off
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: Path
  isRequired: true
  description: |+
    Defines the path to the repository you want to add to the content scan job.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="OnOffEnum" data-throw-if-not-resolved="False" />
  name: PreserveFileDetails
  description: |+
    Determines whether the file details, including the date modified, last modified, and modified by settings are preserved while scanning and auto-labeling.

    Relevant only when the **OverrideContentScanJob** parameter is set to **on**.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: On, Off
- type: <xref href="OnOffEnum" data-throw-if-not-resolved="False" />
  name: RelabelFiles
  description: |+
    Determines whether the content scan job is allowed to relabel files.

    Relevant only when the **OverrideContentScanJob** parameter is set to **on**.

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: On, Off
- type: <xref href="String" data-throw-if-not-resolved="False" />
  name: RepositoryOwner
  description: |+
    Specifies the SAMAccountname (**domain\user**), UPN (**user@domain**), or SID of a group that owns the repository.

    The owners are granted full control permissions on the file if the permissions on the file are changed by a matched DLP rule.

    Relevant only when the following parameters are set to **on**.

    - **OverrideContentScanJob**
    - **EnableDlp**

  defaultValue: None
  position: Named
  aliases: ""
  parameterValueGroup: ""
- type: <xref href="SwitchParameter" data-throw-if-not-resolved="False" />
  name: WhatIf
  description: |+
    Shows what would happen if the cmdlet runs.
    The cmdlet is not run.

  defaultValue: None
  position: Named
  aliases: wi
  parameterValueGroup: ""
uid: AzureInformationProtection.Add-AIPScannerRepository
name: Add-AIPScannerRepository
description: |-
  Adds a repository for your content scan job to scan.

  For more information about content scan jobs, see the [Azure Information Protection on-premises scanner documentation](/information-protection/deploy-aip-scanner-configure-install#create-a-content-scan-job).

  > [!NOTE]
  > If you are using the AIP classic client, this cmdlet is deprecated. Instead, use the [Azure portal to configure the scanner](/information-protection/deploy-aip-scanner-classic).
  > 
  > To provide a unified and streamlined customer experience, the **Azure Information Protection classic client** and **Label Management** in the Azure Portal are being **deprecated** as of **March 31, 2021**. 
  > 
  > This time-frame allows all current Azure Information Protection customers to transition to our unified labeling solution using the Microsoft Information Protection Unified Labeling platform. Learn more in the official [deprecation notice](https://aka.ms/aipclassicsunset).
  >
metadata:
  external help file: AIP.dll-Help.xml
  Module Name: AzureInformationProtection
  online version: https://go.microsoft.com/fwlink/?linkid=2144823
  schema: 2.0.0
